<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wegic Introduction</title>
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #fff;
        }
        
        /* ä¸»å¡ç‰‡å®¹å™¨ */
        .card {
            width: 100%;
            max-width: 800px;
            height: 400px;
            background-color: #fff;
            border-radius: 24px;
            padding: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 1;
            overflow: hidden;
            border-radius: 32px;
        }
        .card::before,
        .card::after {
            display: none;
        }
        .card-glow {
            position: absolute;
            pointer-events: none;
            z-index: 0;
            opacity: 0.18;
            filter: blur(8px);
        }
        .card-glow-tl {
            left: 0; top: 0; width: 320px; height: 320px;
            background: radial-gradient(ellipse 80% 60% at 20% 20%, rgba(134, 99, 255, 0.7) 0%, rgba(255, 182, 230, 0.3) 40%, transparent 100%);
        }
        .card-glow-tr {
            right: 0; top: 0; width: 320px; height: 320px;
            background: radial-gradient(ellipse 80% 60% at 80% 20%, rgba(99, 220, 255, 0.7) 0%, rgba(255, 230, 182, 0.3) 40%, transparent 100%);
        }
        .card-glow-bl {
            left: 0; bottom: 0; width: 320px; height: 320px;
            background: radial-gradient(ellipse 80% 60% at 20% 80%, rgba(255, 230, 182, 0.7) 0%, rgba(255, 182, 230, 0.3) 40%, transparent 100%);
        }
        .card-glow-br {
            right: 0; bottom: 0; width: 320px; height: 320px;
            background: radial-gradient(ellipse 80% 60% at 80% 80%, rgba(255, 182, 230, 0.7) 0%, rgba(134, 99, 255, 0.3) 40%, transparent 100%);
        }
        .card-bottom-glow {
            position: absolute;
            left: 0; right: 0; bottom: 0;
            height: 120px;
            border-radius: inherit;
            background: linear-gradient(180deg, rgba(255, 220, 180, 0.18) 0%, rgba(255, 255, 255, 0.0) 100%);
            z-index: 2;
            pointer-events: none;
            filter: blur(32px);
            opacity: 0.55;
            mix-blend-mode: lighten;
        }
        
        /* æ ‡é¢˜æ–‡æœ¬ */
        .intro-text {
            font-size: 3.2rem;
            font-weight: 400;
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            text-align: center;
            margin-bottom: 24px;
            line-height: 1.08;
            letter-spacing: 0.01em;
            color: #111;
            background: linear-gradient(
                90deg,
                #7b2ff2 0%,
                #f357a8 15%,
                #ff8c3b 30%,
                #ffe066 45%,
                #fff 50%,
                #ffe066 55%,
                #ff8c3b 70%,
                #f357a8 85%,
                #7b2ff2 92%,
                #5a2675 94%,
                #111 96%,
                #111 100%
            );
            background-size: 250% 100%;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: dia-gradient-loop 3.2s cubic-bezier(.4,0,.2,1) infinite;
            animation-fill-mode: forwards;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .intro-text.no-gradient {
            background: none !important;
            -webkit-background-clip: initial;
            -webkit-text-fill-color: #111 !important;
            color: #111 !important;
            animation: none !important;
        }
        /* æ— é™å¾ªç¯æ‰«å…‰+åœé¡¿åŠ¨ç”» */
        .intro-text {
            animation: dia-gradient-loop 3.2s cubic-bezier(.4,0,.2,1) infinite;
            animation-fill-mode: forwards;
        }
        @keyframes dia-gradient-loop {
            0% {
                background-position: 100% 0;
            }
            37.5% {
                background-position: 0% 0;
            }
            100% {
                background-position: 0% 0;
            }
        }
        .intro-text .black-cover {
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 0;
            height: 100%;
            pointer-events: none;
            background: linear-gradient(to right, #111 0%, #111 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
            z-index: 2;
            animation: black-cover-move 0.5s linear forwards;
        }
        @keyframes black-cover-move {
            0% { width: 0; }
            100% { width: 100%; }
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .chat-button {
            display: flex;
            max-width: 310.936px;
            padding: 12px 24px;
            align-items: flex-start;
            gap: 8px;
            background: rgba(30, 30, 34, 0.92);
            color: #fff;
            border: none;
            border-radius: 18px;
            font-size: 1rem;
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            font-weight: 400;
            cursor: pointer;
            position: relative;
            z-index: 1;
            overflow: visible;
            box-shadow: 0 2px 12px rgba(0,0,0,0.10);
            transition: background 0.13s, box-shadow 0.13s, color 0.13s, transform 0.13s cubic-bezier(.4,0,.2,1);
            align-self: flex-start;
        }
        .chat-button:hover {
            background: rgba(18, 18, 22, 0.98);
            color: #fff;
            box-shadow: 0 8px 24px rgba(0,0,0,0.16);
            transform: translateY(-1.5px) scale(1.012);
        }
        
        /* ChatGPTé£æ ¼å¯¹è¯åŒº */
        #chat-space {
            display: flex;
            flex-direction: column;
            height: 100%;
            width: 100%;
            padding: 0 32px 24px 32px;
            box-sizing: border-box;
            background: transparent;
        }
        #chat-space {
            background: #fff !important;
        }
        /* è¿‡æ¸¡åŠ¨ç”» */
        .fade-out {
            opacity: 0;
            transform: scale(0.97) translateY(16px);
            filter: blur(2px);
            transition: opacity 0.35s cubic-bezier(.4,0,.2,1), transform 0.35s, filter 0.35s;
            pointer-events: none;
        }
        .fade-in {
            opacity: 1;
            transform: scale(1) translateY(0);
            filter: blur(0);
            transition: opacity 0.35s cubic-bezier(.4,0,.2,1), transform 0.35s, filter 0.35s;
        }
        .input-animate {
            opacity: 0;
            transform: translateY(24px);
            transition: opacity 0.45s cubic-bezier(.4,0,.2,1), transform 0.45s cubic-bezier(.4,0,.2,1);
        }
        .input-animate.show {
            opacity: 1;
            transform: translateY(0);
        }
        #main-card, #chat-space {
            opacity: 1;
        }
        .chat-messages {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            flex: 1;
            width: 100%;
            overflow-y: auto;
            margin-bottom: 16px;
            padding-top: 30px;
            font-family: 'Inter', 'SF Pro Display', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            color: #4B4B57;
            font-weight: 500;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE 10+ */
        }
        .chat-messages::-webkit-scrollbar {
            display: none; /* Chrome/Safari/Webkit */
        }
        .chat-form {
            display: flex;
            align-items: flex-end;
            width: 100%;
        }
        /* Diaé£æ ¼è¾“å…¥æ¡† */
        .chat-form {
            display: flex;
            align-items: center;
            width: 100%;
            background: none;
            padding: 0;
            gap: 0;
        }
        /* æ¢å¤è¾“å…¥æ¡†åŸç”ŸUIï¼Œå»é™¤è‡ªå®šä¹‰è¾¹æ¡†ã€é˜´å½±ã€èƒŒæ™¯ï¼Œä»…ä¿ç•™åœ†è§’å’Œå†…è¾¹è· */
        .input-wrapper {
            display: flex;
            align-items: center;
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 2px 10px 0 rgba(30,34,44,0.07), 0 1px 4px 0 rgba(30,34,44,0.04);
            flex: 1;
            height: 48px;
            padding: 0 16px 0 20px;
            position: relative;
            transition: box-shadow 0.22s cubic-bezier(.4,0,.2,1);
        }
        .input-wrapper:focus-within {
            box-shadow: 0 0 0 6px rgba(0,0,0,0.04), 0 2px 12px 0 rgba(0,0,0,0.04), 0 1px 4px 0 rgba(0,0,0,0.04);
            filter: blur(0.2px);
        }
        #chat-input, .chat-input {
            border: none !important;
            outline: none;
            background: transparent;
            font-size: 1.08rem;
            color: rgba(0,0,0,0.8);
            padding: 0.7rem 1rem;
            box-shadow: none !important;
            margin-right: 0.7rem;
            padding-left: 0 !important;
        }
        .input-icon {
            display: flex;
            align-items: center;
            margin-right: 8px;
        }
        .chat-input {
            border: none !important;
            outline: none;
            background: transparent;
            font-size: 1.08rem;
            color: #23272f;
            flex: 1;
            height: 44px;
            padding: 0;
            font-family: inherit;
            box-shadow: none !important;
        }
        .chat-input::placeholder {
            color: #e0e2e8;
            opacity: 1;
            font-size: 0.98rem;
        }
        .send-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #111;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 1px 4px 0 rgba(30,34,44,0.10);
            transition: background 0.18s, box-shadow 0.18s, color 0.18s;
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
        }
        .send-btn:hover {
            background: #23272f;
            color: #fff;
            box-shadow: 0 4px 18px rgba(0,0,0,0.13);
        }
        .send-btn svg {
            color: #fff;
            display: block;
            transition: color 0.18s;
        }
        /* æ›´ç²¾è‡´çš„æ‰“å­—æœºå…‰æ ‡ */
        .typewriter-cursor {
            display: inline-block;
            width: 0.12em;
            height: 1.2em;
            background: #4B4B57;
            margin-left: 2px;
            border-radius: 1px;
            animation: blink-cursor 0.7s steps(1) infinite;
            vertical-align: -0.1em;
        }
        @keyframes blink-cursor {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .typewriter-text {
            color: #4B4B57 !important;
            opacity: 1 !important;
            line-height: 1.7;
            font-family: 'Inter', 'SF Pro Display', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            font-weight: 500;
        }
        @keyframes fadein {
            to { opacity: 1; }
        }
        .chat-messages, .typewriter-text, .typewriter-cursor {
            color: #23272f !important;
        }
        .chat-input {
            border-bottom: 2px solid rgba(34,34,34,0.18);
            color: #23272f;
            background: transparent;
        }
        .chat-input:focus {
            border-bottom: 2px solid #23272f;
        }
        .send-btn {
            background: #23272f;
            color: #fff;
        }
        .send-btn:hover {
            background: #444;
            color: #2979ff;
        }
        .bubble.user, .bubble.ai {
            background: #f3f4f8;
            color: #23272f;
            border: 1px solid #e0e0e0;
        }
        .chat-input::placeholder {
            color: #888 !important;
            opacity: 1;
        }
        .send-btn svg {
            color: #fff;
        }
        .send-btn:hover svg {
            color: #2979ff;
        }
        .user-bubble {
            background: rgba(0,0,0,0.04);
            border-radius: 1.3em;
            padding: 16px;
            margin: 8px 0;
            display: block;
            max-width: 80%;
            word-break: break-word;
            font-size: 1.08rem;
            color: #23272f;
            font-family: 'Inter', 'SF Pro Display', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            font-weight: 500;
            align-self: flex-end;
        }
        .user-bubble .typewriter-text {
            font-size: 1.08rem !important;
            font-weight: 500;
            color: #23272f !important;
            font-family: 'Inter', 'SF Pro Display', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
        }
        .send-btn:disabled {
            background: #e0e0e0 !important;
            color: #bdbdbd !important;
            cursor: not-allowed !important;
            box-shadow: none !important;
        }
        .send-btn:disabled svg {
            color: #bdbdbd !important;
        }
    body {
        background: #fff;
        margin: 0;
        font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
        color: #23272f;
    }
    .main-card {
        width: 700px;
        height: 400px;
        background: #fff;
        border-radius: 32px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        margin: 80px auto 56px auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    .footer-info {
        display: flex;
        justify-content: center;
        gap: 64px;
        margin-bottom: 48px;
    }
    .office-info {
        min-width: 260px;
        max-width: 320px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .office-title {
        font-size: 1.18rem;
        font-weight: 600;
        margin-bottom: 2px;
    }
    .office-desc {
        color: #b0b0b0;
        font-size: 1rem;
        margin-bottom: 8px;
    }
    .office-row {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 1rem;
        color: #23272f;
    }
    .icon-location::before {
        content: '\1F4CD'; /* ğŸ“ */
        font-size: 1.1em;
        margin-right: 2px;
    }
    .icon-mail::before {
        content: '\2709'; /* âœ‰ */
        font-size: 1.1em;
        margin-right: 2px;
    }
    @media (max-width: 900px) {
        .main-card { width: 96vw; height: 320px; }
        .footer-info { flex-direction: column; align-items: center; gap: 32px; }
        .office-info { max-width: 96vw; }
    }
    .cover-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        background: #fff;
        padding-top: 80px;
        padding-bottom: 80px;
        box-sizing: border-box;
    }
    .main-card {
        width: 690px;
        height: 388px;
        max-width: 100vw;
        margin: 0 auto 80px auto;
        background: var(--color-2, #fff);
        border-radius: 32px;
        overflow: hidden;
        box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.04),
                    0px 0px 0px 1px rgba(255, 255, 255, 0.50) inset,
                    0px 1px 4px 0px rgba(0, 0, 0, 0.06);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        /* æ›´æ·¡é›…çš„åŠ¨æ€æ¸å˜èƒŒæ™¯ */
        background: radial-gradient(ellipse 60% 40% at 20% 20%, rgba(134,99,255,0.07) 0%, transparent 100%),
                    radial-gradient(ellipse 50% 30% at 80% 30%, rgba(99,220,255,0.06) 0%, transparent 100%),
                    radial-gradient(ellipse 60% 40% at 80% 80%, rgba(255,182,230,0.06) 0%, transparent 100%),
                    radial-gradient(ellipse 60% 40% at 20% 80%, rgba(255,230,182,0.05) 0%, transparent 100%),
                    #fff;
        animation: card-bg-move 16s linear infinite alternate;
    }
    @keyframes card-bg-move {
        0% {
            background-position:
                20% 20%, 80% 30%, 80% 80%, 20% 80%;
        }
        50% {
            background-position:
                30% 25%, 70% 35%, 75% 75%, 25% 75%;
        }
        100% {
            background-position:
                20% 20%, 80% 30%, 80% 80%, 20% 80%;
        }
    }
    .footer-info {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto 80px auto;
        display: flex;
        justify-content: space-between;
        gap: 64px;
        box-sizing: border-box;
    }
    .cover-center {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        width: 100%;
        overflow: hidden;
        transform: translateY(-10px);
    }
    .intro-text {
        font-size: 3rem;
        line-height: 1.08;
        margin-bottom: 24px;
        max-width: 600px;
        word-break: break-word;
    }
    .chat-button {
        margin-top: 0;
        align-self: center;
        border-radius: 12px;
    }
    /* è¾“å…¥æ¡†å†…å­—ä½“é¢œè‰² */
    #chat-input {
      color: rgba(0,0,0,0.8) !important;
    }
    #chat-input::placeholder {
      color: rgba(0,0,0,0.3) !important;
      opacity: 1;
    }
    /* loadingåŠ¨ç”»å’ŒThinkingæ ·å¼ */
    .ai-loading {
      display: flex;
      align-items: center;
      gap: 0.5em;
      margin: 0.7rem 0 0.7rem 0.2rem;
      font-size: 1.08rem;
      font-weight: 500;
    }
    .loading-spinner {
      width: 16px;
      height: 16px;
      border: 1.2px dashed #bbb;
      border-radius: 50%;
      background: none;
      animation: spin 1.6s linear infinite;
      display: inline-block;
      box-sizing: border-box;
      flex-shrink: 0;
    }
    @keyframes spin {
      100% { transform: rotate(360deg); }
    }
    .loading-text {
      color: rgba(0,0,0,0.4);
      background: linear-gradient(
        90deg,
        rgba(0,0,0,0.4) 0%,
        rgba(255,255,255,0) 40%,
        rgba(255,255,255,0.7) 46%,
        #fff 50%,
        rgba(255,255,255,0.7) 54%,
        rgba(255,255,255,0) 60%,
        rgba(0,0,0,0.4) 100%
      );
      background-size: 220% auto;
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: sweep-white-mask 3.8s cubic-bezier(.45,0,.2,1) infinite;
      font-weight: 500;
      font-size: 1.08rem;
      letter-spacing: 0.01em;
      transition: color 0.3s;
    }
    @keyframes sweep-white-mask {
      0%   { background-position: 120% 0; }
      100% { background-position: -120% 0; }
    }
    /* é—®é¢˜è¿›åº¦æ¡æ ·å¼ */
    .question-progress-bar {
      width: 100%;
      height: 6px;
      background: #f3f3f3;
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 24px;
      position: absolute;
      left: 0; top: 0;
      z-index: 10;
    }
    .question-progress-bar__fill {
      height: 100%;
      width: 0%;
      border-radius: 4px;
      background: linear-gradient(270deg, rgba(243, 87, 168, 0.15) 0%, rgba(255, 140, 59, 0.30) 15%, rgba(255, 224, 102, 0.45) 30%, rgba(255, 224, 102, 0.55) 42.88%, rgba(255, 140, 59, 0.70) 55%, rgba(243, 87, 168, 0.85) 70%, rgba(123, 47, 242, 0.92) 85%, rgba(90, 38, 117, 0.95) 100%);
      transition: width 0.5s cubic-bezier(.4,0,.2,1);
    }
    </style>
</head>
<body>
    <div class="cover-section">
        <div class="main-card">
            <div class="card-glow card-glow-tl"></div>
            <div class="card-glow card-glow-tr"></div>
            <div class="card-glow card-glow-bl"></div>
            <div class="card-glow card-glow-br"></div>
            <div id="cover-content" class="cover-center">
                <h1 class="intro-text">â€œHi there,<br>let me show you<br>what Wegic can do.â€</h1>
                <button class="chat-button" id="start-btn">
                    <span class="heart-icon">ğŸ’™</span>
                    Let's chat
                </button>
            </div>
            <div id="chat-space" style="display:none;">
                <div class="question-progress-bar"><div class="question-progress-bar__fill" id="question-progress-bar-fill"></div></div>
                <div class="chat-messages" id="chat-messages"></div>
                <form class="chat-form input-animate" id="chat-form" autocomplete="off">
                    <div class="input-wrapper">
                        <input class="chat-input" id="chat-input" type="text" placeholder="Type your message..." autocomplete="off" required />
                        <button class="send-btn" id="send-btn" type="submit" aria-label="Send">
                            <svg width="20" height="20" viewBox="0 0 22 22" fill="none">
                                <path d="M11 17V5M11 5L6 10M11 5l5 5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
            <div class="card-bottom-glow"></div>
        </div>
        <div class="footer-info">
            <div class="office-info">
                <div class="office-title">Paris Office</div>
                <div class="office-desc">Connect with our artistic team in London.</div>
                <div class="office-row"><span class="icon-location"></span>123 Rue de Parfum, Paris, France</div>
                <div class="office-row"><span class="icon-mail"></span>paris@zz.com</div>
            </div>
            <div class="office-info">
                <div class="office-title">New York Office</div>
                <div class="office-desc">Connect with our artistic team in London.</div>
                <div class="office-row"><span class="icon-location"></span>456 Madison Ave, New York, USA</div>
                <div class="office-row"><span class="icon-mail"></span>ny@zz.com</div>
            </div>
            <div class="office-info">
                <div class="office-title">Tokyo Office</div>
                <div class="office-desc">Connect with our artistic team in London.</div>
                <div class="office-row"><span class="icon-location"></span>789 Ginza St, Tokyo, Japan</div>
                <div class="office-row"><span class="icon-mail"></span>tokyo@zz.com</div>
            </div>
        </div>
    </div>
    <script>
    // æŒ‰é’®ç‚¹å‡»åˆ‡æ¢åˆ°å¯¹è¯é¡µé¢
    const startBtn = document.getElementById('start-btn');
    const coverContent = document.getElementById('cover-content');
    const chatSpace = document.getElementById('chat-space');
    const chatInput = document.getElementById('chat-input');
    if (startBtn && coverContent && chatSpace && chatInput) {
        startBtn.addEventListener('click', () => {
            coverContent.classList.add('fade-out');
            setTimeout(() => {
                coverContent.style.display = 'none';
                chatSpace.style.display = 'flex';
                setTimeout(() => {
                    chatSpace.classList.add('fade-in');
                    chatSpace.style.opacity = 1;
                    chatSpace.style.transform = 'scale(1) translateY(0)';
                    chatSpace.style.filter = 'blur(0)';
                    // è¾“å…¥åŒºæ¸å…¥åŠ¨ç”»
                    const chatForm = document.getElementById('chat-form');
                    if (chatForm) {
                        chatForm.classList.add('show');
                    }
                    // å»¶è¿Ÿ100mså†æ˜¾ç¤ºæ¬¢è¿è¯­ï¼Œç¡®ä¿åŠ¨ç”»è‡ªç„¶
                    setTimeout(() => {
                        // è¿™é‡ŒskipLoading: trueï¼Œé¦–å¥ä¸æ˜¾ç¤ºloading
                        typeQuestion('Hi, nice to meet you! What would you like to chat about today? You can share your thoughts, questions, or any interesting stories with me!', true);
                        chatInput.focus();
                        // è¿›å…¥å¯¹è¯æµæ—¶è¿›åº¦æ¡å½’é›¶
                        setQuestionProgress(0);
                    }, 100);
                }, 900); // ç”±2600æ”¹ä¸º900
            }, 350);
        });
    }
    // ç¡®ä¿chatMessageså˜é‡å·²å®šä¹‰
    const chatMessages = document.getElementById('chat-messages');
    // çº¯æ–‡æœ¬æ‰“å­—æœºæ•ˆæœ
    function appendMessage(text, sender, options = {}) {
        const div = document.createElement('div');
        div.style.whiteSpace = 'pre-wrap';
        // ä¸å†è®¾ç½®textAlignï¼Œäº¤ç»™CSS
        div.style.margin = '8px 0';
        div.style.color = '#4B4B57';
        div.style.fontFamily = "'Inter', 'SF Pro Display', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif";
        div.style.fontWeight = 500;
        if(sender === 'user') {
            div.className = 'user-bubble';
            div.style.background = 'rgba(0,0,0,0.04)';
            div.style.padding = '16px';
            div.style.borderRadius = '1.3em';
            div.style.display = 'block';
            div.style.maxWidth = '80%';
            div.style.margin = '8px 0';
            div.style.alignSelf = 'flex-end';
        }
        chatMessages.appendChild(div);
        let i = 0;
        function type() {
            if (i <= text.length) {
                div.innerHTML = `<span class=\"typewriter-text\">${text.slice(0, i)}</span><span class=\"typewriter-cursor\">&nbsp;</span>`;
                i++;
                chatMessages.scrollTop = chatMessages.scrollHeight;
                setTimeout(type, 10);
            } else {
                div.innerHTML = `<span class=\"typewriter-text\">${text}</span>`;
            }
        }
        if (sender === 'ai') {
            if (!options.skipLoading) {
                showAILoading();
                setTimeout(() => {
                    removeAILoading();
                    // å…ˆé—ªçƒä¸¤ä¸‹å…‰æ ‡
                    div.innerHTML = `<span class=\"typewriter-text\"></span><span class=\"typewriter-cursor\">&nbsp;</span>`;
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    setTimeout(() => {
                        setTimeout(() => {
                            type();
                        }, 500);
                    }, 500);
                }, 2000);
            } else {
                // ä¸æ˜¾ç¤ºloadingï¼Œç›´æ¥é—ªçƒä¸¤ä¸‹å…‰æ ‡å†æ‰“å­—
                div.innerHTML = `<span class=\"typewriter-text\"></span><span class=\"typewriter-cursor\">&nbsp;</span>`;
                chatMessages.scrollTop = chatMessages.scrollHeight;
                setTimeout(() => {
                    setTimeout(() => {
                        type();
                    }, 500);
                }, 500);
            }
        } else {
            type();
        }
    }
    function typeQuestion(text, skipLoading) {
        appendMessage(text, 'ai', { skipLoading });
    }
    function mockAIReply(userText) {
        if (/hello|hi|ä½ å¥½/i.test(userText)) {
            return 'Hello! How can I help you today?';
        } else if (/who|ä½ æ˜¯è°/i.test(userText)) {
            return 'I am Wegic, your AI assistant.';
        } else if (/bye|å†è§/i.test(userText)) {
            return 'Goodbye! Have a nice day!';
        } else {
            const replies = [
                'Thatâ€™s an interesting question! Let me think about itâ€¦',
                'Iâ€™m still learning. Could you rephrase your question?',
                'That sounds great! Tell me more.',
                'Hmm, I see. What else would you like to discuss?',
                'Can you share more details? Iâ€™m here to help!'
            ];
            return replies[Math.floor(Math.random() * replies.length)];
        }
    }
    // ç¡®ä¿chatFormäº‹ä»¶ç»‘å®šå§‹ç»ˆæœ‰æ•ˆï¼Œé˜²æ­¢é¡µé¢è·³è½¬
    const chatForm = document.getElementById('chat-form');
    if (chatForm) {
        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userText = chatInput.value.trim();
            if (!userText) return;
            appendMessage(userText, 'user');
            chatInput.value = '';
            // æ¯æ¬¡æäº¤åæ¨è¿›è¿›åº¦æ¡
            setQuestionProgress(currentQuestion + 1);
            setTimeout(() => {
                appendMessage(mockAIReply(userText), 'ai');
            }, 600 + Math.random() * 400);
        });
    }
    // loadingç›¸å…³å‡½æ•°
    function showAILoading() {
        removeAILoading();
        const loadingDiv = document.createElement('div');
        loadingDiv.className = 'ai-loading';
        loadingDiv.innerHTML = '<span class="loading-spinner"></span><span class="loading-text">Thinking...</span>';
        chatMessages.appendChild(loadingDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    function removeAILoading() {
        const loading = chatMessages.querySelector('.ai-loading');
        if (loading) loading.remove();
    }
    // åªç”¨CSSåŠ¨ç”»ï¼Œä¸ç”¨JSåˆ‡æ¢ç±»ï¼Œæ¸å˜è‡ªç„¶è¿‡æ¸¡åˆ°é»‘è‰²
    // å‘é€æŒ‰é’®ç½®ç°é€»è¾‘
    const sendBtn = document.getElementById('send-btn');
    if (chatInput && sendBtn) {
      function toggleSendBtn() {
        if (chatInput.value.trim() === '') {
          sendBtn.disabled = true;
        } else {
          sendBtn.disabled = false;
        }
      }
      chatInput.addEventListener('input', toggleSendBtn);
      // åˆå§‹åŒ–æ—¶ä¹Ÿåˆ¤æ–­ä¸€æ¬¡
      toggleSendBtn();
    }
    // é—®é¢˜è¿›åº¦æ¡é€»è¾‘
    const totalQuestions = 4;
    let currentQuestion = 0;
    const progressBarFill = document.getElementById('question-progress-bar-fill');
    function setQuestionProgress(idx) {
      currentQuestion = idx;
      if(progressBarFill) {
        progressBarFill.style.width = (currentQuestion / totalQuestions * 100) + '%';
      }
    }
    // ç¤ºä¾‹ï¼šæ¯æ¬¡å›ç­”å®Œé—®é¢˜åè°ƒç”¨ setQuestionProgress(å·²ç­”é¢˜æ•°)
    // setQuestionProgress(1); // 1/4
    // setQuestionProgress(2); // 2/4
    // setQuestionProgress(3); // 3/4
    // setQuestionProgress(4); // 4/4
    </script>
</body>
</html>
